{% extends 'base.html' %}

{% block title %}{{ property.category }} à {{ property.location }} - Gestion de Location{% endblock %}

{% block content %}
    <h1 class="mb-4">{{ property.category }} à {{ property.location }}</h1>
    
    <div class="row">
        <div class="col-md-6">
            <img src="{{ property.main_picture.url }}" class="img-fluid mb-3" alt="{{ property.category }}">
            <div class="row">
                {% for picture in property.picture_1, property.picture_2, property.picture_3, property.picture_4, property.picture_5 %}
                    {% if picture %}
                        <div class="col-4 mb-3">
                            <img src="{{ picture.url }}" class="img-fluid" alt="Additional picture">
                        </div>
                    {% endif %}
                {% endfor %}
            </div>
        </div>
        <div class="col-md-6">
            <h2>Détails de la propriété</h2>
            <ul class="list-group">
                <li class="list-group-item"><strong>Catégorie:</strong> {{ property.category }}</li>
                <li class="list-group-item"><strong>Emplacement:</strong> {{ property.location }}</li>
                <li class="list-group-item"><strong>Adresse:</strong> {{ property.address }}</li>
                <li class="list-group-item"><strong>Nombre de pièces:</strong> {{ property.number_of_rooms }}</li>
                <li class="list-group-item"><strong>Nombre de chambres:</strong> {{ property.number_of_bedrooms }}</li>
                <li class="list-group-item"><strong>Nombre de salles de bain:</strong> {{ property.number_of_baths }}</li>
                <li class="list-group-item"><strong>Nombre de toilettes:</strong> {{ property.number_of_toilets }}</li>
                <li class="list-group-item"><strong>Nombre de cuisines:</strong> {{ property.number_of_kitchens }}</li>
                <li class="list-group-item"><strong>Surface totale:</strong> {{ property.total_surface_area }} m²</li>
                <li class="list-group-item"><strong>Prix par mois:</strong> {{ property.price_per_month }} €</li>
                <li class="list-group-item"><strong>Prix de réservation:</strong> {{ property.reservation_price }} €</li>
                <li class="list-group-item"><strong>Frais de caution:</strong> {{ property.caution_fees }} €</li>
                <li class="list-group-item"><strong>Période de contrat:</strong> {{ property.get_contract_period_display }}</li>
                <li class="list-group-item"><strong>Disponible à partir du:</strong> {{ property.date_available }}</li>
            </ul>
            <div class="mt-3">
                <h3>Description</h3>
                <p>{{ property.description }}</p>
            </div>
            {% if user.is_authenticated %}
                <a href="{% url 'rental:booking_create' %}" class="btn btn-primary mt-3">Réserver cette propriété</a>
                <a href="{% url 'rental:rate_property' property.pk %}" class="btn btn-secondary mt-3">Évaluer cette propriété</a>
            {% endif %}
        </div>
    </div>
{% endblock %}